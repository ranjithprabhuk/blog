@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  --color-primary-950: #172554;
}

/* Base styles */
body {
  @apply bg-white text-gray-900 dark:bg-gray-950 dark:text-gray-100 antialiased;
  font-family:
    "Inter",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    sans-serif;
}

/* Smooth transitions for dark mode */
body,
body * {
  transition:
    background-color 0.2s ease,
    color 0.2s ease,
    border-color 0.2s ease;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 dark:bg-gray-700 rounded;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400 dark:bg-gray-600;
}

/* Code block styles */
.code-block-wrapper {
  @apply relative rounded-lg overflow-hidden my-6 bg-gray-900;
}

.code-block-wrapper pre {
  @apply !m-0 !rounded-none overflow-x-auto !p-4 !bg-gray-900;
  scrollbar-width: thin;
}

.code-block-wrapper pre code {
  @apply text-gray-100 text-sm font-mono leading-relaxed;
}

.code-header {
  @apply flex items-center justify-between px-4 py-2 bg-gray-800 dark:bg-gray-900 text-sm;
}

.code-lang {
  @apply text-gray-400 font-mono text-xs uppercase tracking-wider;
}

.copy-btn {
  @apply px-3 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded transition-colors cursor-pointer;
}

/* Prose customization for blog content */
.prose pre {
  @apply !m-0 !bg-transparent;
}

.prose :where(code):not(:where(pre *)) {
  @apply px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-sm font-mono;
}

.prose :where(code):not(:where(pre *))::before,
.prose :where(code):not(:where(pre *))::after {
  content: none;
}

.prose img {
  @apply rounded-lg;
}

.prose a {
  @apply text-primary-600 dark:text-primary-400 no-underline hover:underline;
}

/* Heading anchor links should inherit the heading color, not link color */
.prose :where(h1, h2, h3, h4, h5, h6) a.anchor-link {
  @apply text-inherit no-underline hover:no-underline;
}

.prose table {
  @apply text-sm;
}

.prose th {
  @apply bg-gray-50 dark:bg-gray-800/50;
}

/* Typing cursor blink animation */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.animate-blink {
  animation: blink 1s step-end infinite;
}

/* Skip to content link */
.skip-to-content {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded;
}
