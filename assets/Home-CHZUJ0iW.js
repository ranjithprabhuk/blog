import{j as e,L as h,r as x,u as f,a as b}from"./index-DQbGN1mb.js";import{P as j}from"./PostList-BEUHhB6k.js";import{M as k,c as v}from"./MetaTags-C9Y1iGeJ.js";import{u as N}from"./useMetadata-CKazSL-_.js";import"./PostCard-BwVUPMkJ.js";import"./AuthorAvatar-CdjnZLiY.js";function w({currentPage:r,totalPages:a,basePath:l="/page"}){if(a<=1)return null;const n=[];if(a<=7)for(let t=1;t<=a;t++)n.push(t);else{n.push(1),r>3&&n.push("...");const t=Math.max(2,r-1),i=Math.min(a-1,r+1);for(let s=t;s<=i;s++)n.push(s);r<a-2&&n.push("..."),n.push(a)}function c(t){return t===1?"/":`${l}/${t}`}return e.jsxs("nav",{"aria-label":"Pagination",className:"flex items-center justify-center gap-1 mt-12",children:[r>1?e.jsx(h,{to:c(r-1),className:"px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Previous page",children:"← Prev"}):e.jsx("span",{className:"px-3 py-2 text-sm font-medium text-gray-300 dark:text-gray-600",children:"← Prev"}),n.map((t,i)=>t==="..."?e.jsx("span",{className:"px-3 py-2 text-sm text-gray-400",children:"..."},`ellipsis-${i}`):e.jsx(h,{to:c(t),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${t===r?"bg-primary-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-current":t===r?"page":void 0,children:t},t)),r<a?e.jsx(h,{to:c(r+1),className:"px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Next page",children:"Next →"}):e.jsx("span",{className:"px-3 py-2 text-sm font-medium text-gray-300 dark:text-gray-600",children:"Next →"})]})}function R({words:r,typingSpeed:a=100,deletingSpeed:l=60,pauseDuration:n=2e3}){const[c,t]=x.useState(""),i=x.useRef(0),s=x.useRef(0),d=x.useRef(!1),m=x.useRef(!1);return x.useEffect(()=>{function u(){const o=r[i.current];if(m.current)return;if(d.current)s.current-=1,t(o.slice(0,s.current)),s.current===0&&(d.current=!1,i.current=(i.current+1)%r.length);else if(s.current+=1,t(o.slice(0,s.current)),s.current===o.length){m.current=!0,setTimeout(()=>{m.current=!1,d.current=!0,u()},n);return}const g=d.current?l:a;setTimeout(u,g)}const p=setTimeout(u,a);return()=>clearTimeout(p)},[]),c}const T=["web development","software engineering","modern tech","my engineering journey"];function E(){const{page:r}=f(),a=Number(r)||1,{index:l,loading:n,error:c}=N(),[t,i]=x.useState(""),s=b(),d=R({words:T,typingSpeed:80,deletingSpeed:50,pauseDuration:2500}),{posts:m,totalPages:u}=x.useMemo(()=>{if(!l)return{posts:[],totalPages:0};const o=v.blog.postsPerPage,g=Math.ceil(l.posts.length/o),y=(a-1)*o;return{posts:l.posts.slice(y,y+o),totalPages:g}},[l,a]),p=o=>{o.preventDefault(),t.trim()&&(s(`/search?q=${encodeURIComponent(t.trim())}`),i(""))};return c?e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Unable to load posts"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{}),e.jsxs("section",{className:"relative overflow-hidden border-b border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.4] dark:opacity-[0.15]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgb(148 163 184 / 0.4) 1px, transparent 0)",backgroundSize:"24px 24px"}}),e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-primary-200/30 dark:bg-primary-900/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-blue-200/30 dark:bg-blue-900/20 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12 text-center",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-3",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Ranjith's "}),e.jsx("span",{className:"bg-gradient-to-r from-primary-500 to-primary-700 dark:from-primary-400 dark:to-primary-600 bg-clip-text text-transparent",children:"Blog"})]}),e.jsxs("p",{className:"text-base sm:text-lg text-gray-500 dark:text-gray-400 max-w-2xl mx-auto mb-6 h-7",children:["Thoughts on"," ",e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:d}),e.jsx("span",{className:"inline-block w-[2px] h-5 bg-primary-500 ml-0.5 align-middle animate-blink"})]}),e.jsx("form",{onSubmit:p,className:"max-w-xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"search",placeholder:"Search articles...",value:t,onChange:o=>i(o.target.value),className:"w-full pl-12 pr-4 py-3.5 text-base bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500"})]})})]})]}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-12",children:[e.jsx(j,{posts:m,loading:n}),e.jsx(w,{currentPage:a,totalPages:u})]})]})}export{E as default};
